{"slug":"schema-ai","description":"An example schema that uses the AI extension to automatically generate embedding vectors for a type","language":"gel","code":"module default {\n    type Friend {\n        required name: str {\n            constraint exclusive;\n        };\n\n        summary: str;               # A brief description of personality and role\n        relationship_to_komi: str;  # Relationship with Komi\n        defining_trait: str;        # Primary character trait or quirk\n\n        deferred index ext::ai::index(embedding_model := 'text-embedding-3-small')\n            on (\n                .name ++ ' ' ++ .summary ++ ' '\n                ++ .relationship_to_komi ++ ' '\n                ++ .defining_trait\n            );\n    }\n}","notes":null}
{"slug":"python-query-ai","description":"Example Python code that uses Gel AI Python binding to perform similarity search for a text query","language":"python","code":"import gel\nimport gel.ai\n\ngel_client = gel.create_client()\ngel_ai = gel.ai.create_rag_client(client)\n\ntext = \"Who helps Komi make friends?\"\nvector = gel_ai.generate_embeddings(\n    text,\n    \"text-embedding-3-small\",\n)\n\ngel_client.query(\n    \"select ext::ai::search(Friend, <array<float32>>$embedding_vector\",\n    embedding_vector=vector,\n)","notes":null}
